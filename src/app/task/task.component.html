<app-header></app-header>
<div class="container py-5">
  
    <form [formGroup]='newTaskForm' (ngSubmit)='addNewTask()'>
      <div class="form-row">
        <div class="form-group col-sm-5">
          <input type="text" id="taskName" class="form-control" placeholder="Task Name" formControlName='taskName' />
          <div *ngIf="getControl('taskName').errors && (getControl('taskName').touched || getControl('taskName').dirty)">
            <div *ngIf="getControl('taskName').errors.required">
                Task cannot be empty
            </div>
          </div>
        </div>
        <div class="form-group col-sm-2">
  
          <input type="text" id="priority" class="form-control" placeholder="Priority" formControlName='priority' />
          <div *ngIf="getControl('priority').errors && (getControl('priority').touched || getControl('priority').dirty)">
            <div *ngIf="getControl('priority').errors.required">
                Task priority cannot be empty
            </div>
          </div>
        </div>
        <div class="form-group col-sm-3">
  
          <input type="date" id="date" class="form-control" placeholder="Date" formControlName='date' />
          <div *ngIf="getControl('date').errors && (getControl('date').touched || getControl('date').dirty)">
            <div *ngIf="getControl('date').errors.required">
                Task date cannot be empty
            </div>
          </div>
        </div>
          <!-- <input type="text" id="status" class="form-control" placeholder="Status" #status /> -->
        <div class="form-group col-sm-2">
          <button type="submit" class="btn btn-info btns" [disabled]='!newTaskForm.valid'>Submit</button>
        </div>
      </div>
      
    </form>
 
  
  <div class="row">  
    <table class="table">
      <thead>
        <th>Task Name</th>
        <th>Priority</th>
        <th>Date</th>
        <th>Status</th>
        <th>Edit</th>
        <th>Delete</th>
      </thead>
      <tbody>
        <tr *ngFor="let item of tasks">
          <td>{{ item.taskName }}</td>
          <td>{{ item.priority }}</td>
          <td>{{ item.date }}</td>
          <td (click)="changeStatus(item.id)" class="pointer">
            <div *ngIf = "item.done"><i class="far fa-check-circle done">Done</i></div>
            <div *ngIf = "!item.done" class="notDone">Pending</div>
          </td>
          
          <!-- <td>{{ item.done? <i class="far fa-check-circle"></i> : 'Pending'}}</td> -->
          <td class="pointer" (click)="editTask(item.id)"><i class='far fa-edit'></i></td>
          
          <td class="pointer" (click)="deleteTask(item.id)"><i class='fas fa-trash-alt'></i></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>